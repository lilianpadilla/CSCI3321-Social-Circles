<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" href="/stylesheets/home.css" />
  </head>
  <body>
    <div class="side-circles">
      <a href="/characters" class="circle-button" title="Characters">Characters</a>
      <a href="/userpage" class="circle-button" title="User Profile">User</a>
      <a href="/" class="circle-button" title="Login">Login</a>
    </div>

   

    <!-- Social Circles Game Section -->
    <div class="social-circles-game">
      <h2>Play Social Circles</h2>
      <p>Select a circle and choose an action to boost happiness!</p>

      <div class="circles-container">
        <% for (let i = 1; i < 4; i++){ %>
          <%  let group = circles.getCircle(i)%>
          <%  var index = i%>
          <div class="circle-card">
            <h3>Circle <%= index %></h3>
            <ul>
              <%  group.forEach(char => { %>
                <li><%= char.name %></li>
                <%  })%>
            </ul>

            <form action="/play" method="POST">
              <input type="hidden" name="circleIndex" value="<%= index %>" />
              <input type="hidden" name="game" value="<%= circles %>" />
              <select name="action" required>
                <option value="">Choose an action</option>
                <option value="compliment">Give Compliment</option>
                <option value="help">Offer Help</option>
                <option value="invite">Invite to Event</option>
              </select>
              <button type="submit">Go!</button>
            </form>
          </div>
        <% } %>
      </div>

      <% if (message) { %>
        <div class="game-message">
          <p><%= message %></p>
        </div>
      <% } %>
    </div>
  </body>
  <body>
    <div class="leaderboard-container">
    <h1 style="text-align: center;">Weekly Leaderboard</h1>
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>Score</th>
            </tr>
        </thead>
        <tbody>
            <% leaderboard.forEach((player, index) => { %>
                <tr>
                    <td><%= player.Username %></td>
                    <td><%= player.Score %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>
  </div>
</body>
</html>
